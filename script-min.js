const analysisContent=document.querySelector(".analysis__content"),contentWrapper=document.querySelector(".analysis__text form"),phrase=document.querySelector(".analysis__phrase"),phraseLength=document.querySelector(".analysis__length"),specialOptions=document.querySelector(".analysis__specialOptions"),letterSize=document.querySelector(".analysis__letterSize"),appearances=document.querySelector(".analysis__appearances"),fontsColor=document.querySelector(".analysis__fontsColor"),fontsBold=document.querySelector(".analysis__bold"),fontsUnderscore=document.querySelector(".analysis__underscore"),analysisStart=document.querySelector(".analysis__start"),analysisReset=document.querySelector(".analysis__reset"),message=document.querySelector(".analysis__message"),results=document.querySelector(".analysis__results"),information=document.querySelector(".analysis__info"),closeLink=document.querySelector(".analysis__link"),showMessage=function(e){message.classList.remove("visibility"),information.textContent=e,closeLink.addEventListener("click",(function(){message.classList.add("visibility")}))},addStyles=function(e){"0"!=fontsColor.value&&(e.style.color=fontsColor.value),fontsBold.checked&&(e.style.fontWeight="bold"),fontsUnderscore.checked&&(e.style.textDecoration="underline")},search=function(e,s){let t=new RegExp(e,s),n=[],a=[];for(a.push(0);result=t.exec(analysisContent.value);)a.push(result.index),a.push(t.lastIndex),n.push(RegExp.lastMatch);a.push(analysisContent.value.length);for(let e=1;e<a.length;e++){const s=analysisContent.value.slice(a[e-1],a[e]),t=document.createElement("span");t.textContent=s;for(let e of n)e==s&&(l=t,"0"!=fontsColor.value&&(l.style.color=fontsColor.value),fontsBold.checked&&(l.style.fontWeight="bold"),fontsUnderscore.checked&&(l.style.textDecoration="underline"));results.appendChild(t)}var l};analysisStart.addEventListener("click",(function(){if(""==results.textContent)if(""==analysisContent.value||""==phrase.value&&"0"==phraseLength.value&&"0"==specialOptions.value)""==analysisContent.value&&""==phrase.value&&"0"==phraseLength.value&&"0"==specialOptions.value?showMessage("Wprowadź tekst do analizy. Następnie użyj przynajmniej jednej z trzech podstawowych opcji wyszukiwania."):""!=analysisContent.value&&""==phrase.value&&"0"==phraseLength.value&&"0"==specialOptions.value&&showMessage("Użyj przynajmniej jednej z trzech podstawowych opcji wyszukiwania.");else{contentWrapper.style.height="48%",results.classList.remove("visibility");switch(specialOptions.value){case"1":search("(\\w+\\.)*\\w+@\\w+\\.\\w{2,4}","ig");break;case"2":search("\\d{2}-\\d{3}","ig");break;case"3":search("\\„.+\\”","ig");break}}})),analysisReset.addEventListener("click",(function(){analysisContent.value="",phrase.value="",phraseLength.value="0",specialOptions.value="0",letterSize.checked=!1,appearances.checked=!1,fontsColor.value="0",fontsUnderscore.checked=!1,results.classList.add("visibility"),contentWrapper.style.height="100%";const e=results.querySelectorAll("span");for(let s=0;s<e.length;s++)results.removeChild(e[s])}));